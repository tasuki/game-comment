<!DOCTYPE html>
<head>
    <title>Game Comment</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="/public/pure-min.css" />
    <link rel="stylesheet" href="/public/pure-grids-responsive-min.css" />
    <link rel="stylesheet" href="/public/style.css" />
    <link rel="icon" href="/public/favicon.svg">
    <script src="/gc.js"></script>
</head>
<body>
    <p>If you can see this perhaps you don't have JavaScript enabled?</p>
    <p>Or perhaps I messed something up? No idea, really.</p>
    <p>Bugs to https://github.com/tasuki/game-comment/issues</p>

    <script>
        var itemName = 'gc-model';
        var storedData = localStorage.getItem(itemName);
        var flags = storedData ? JSON.parse(storedData) : null;

        var app = Elm.Main.init({
            flags: flags,
        });

        app.ports.setStorage.subscribe(function(state) {
            localStorage.setItem(itemName, JSON.stringify(state));
        });
    </script>
</body>
</html>
